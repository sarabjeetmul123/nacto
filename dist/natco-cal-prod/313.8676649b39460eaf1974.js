(self.webpackChunknatco_cal_prod=self.webpackChunknatco_cal_prod||[]).push([[313],{5313:(t,s,i)=>{"use strict";i.r(s),i.d(s,{PastreportsModule:()=>g});var e=i(1116),h=i(2006),a=i(3651),l=i(5366),c=i(6402),o=i(2797);function r(t,s){if(1&t){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td",7),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().viewreport(s)}),l._uU(8,"View"),l.qZA(),l.TgZ(9,"td",8),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().deletereport(s)}),l._uU(10,"Delete"),l.qZA(),l.qZA()}if(2&t){const t=s.$implicit;l.xp6(2),l.Oqu(t[3]),l.xp6(2),l.Oqu(t[4]),l.xp6(2),l.Oqu(t[75])}}const n=[{path:"",component:(()=>{class t{constructor(t){this.login=t,this.name="",this.patient_id="",this.age="",this.city="",this.bp="",this.gender="",this.name_pdf="",this.patient_id_pdf="",this.age_pdf="",this.city_pdf="",this.sbp_pdf="",this.dbp_pdf="",this.gender_pdf="",this.doc=new a.ZP("p","pt","a4"),this.L1=40,this.L2=190,this.L3=260,this.L4=430,this.H1=110,this.cal1_array=[],this.cal2_array=[],this.cal3_array=[],this.cal4_array=[],this.cal5_array=[],this.cal6_array=[],this.cal7_array=[],this.allcalcs=[],this.docname=localStorage.getItem("doctor_data"),this.docname=JSON.parse(this.docname)}viewreport(t){this.some(t)}deletereport(t){this.delreport(t)}callapi(){this.login.getreport(this.docname).subscribe(t=>{this.mydata=t})}ngOnInit(){this.callapi()}delreport(t){console.log(t[0]),this.login.reportdel(t[0]).subscribe(t=>{alert(t.res)}),this.callapi()}some(t){console.log("Report starts here: "),console.log(t[1]),this.patient_id_pdf=t[2],this.name_pdf=t[3],this.age_pdf=t[4],this.gender_pdf=t[5],this.city_pdf=t[6],this.sbp_pdf=t[7],this.dbp_pdf=t[8],this.download(t)}maintitle(){this.doc.setFontSize(18),this.doc.setTextColor(112,112,112)}subtitles(){this.doc.setFontSize(15),this.doc.setTextColor(0,91,170)}textinside(){this.doc.setFontSize(10),this.doc.setFont("normal"),this.doc.setTextColor(112,112,112)}patientdetails(){this.subtitles(),this.doc.text("Patient details",this.L1,80),this.textinside(),this.doc.text("Patient ID:",this.L1,this.H1),this.doc.text(this.patient_id_pdf,this.L2,this.H1),this.doc.text("Patient name:",this.L3,this.H1),this.doc.text(this.name_pdf,this.L4,this.H1),this.H1=this.H1+20,this.doc.text("Age:",this.L1,this.H1),this.doc.text(this.age_pdf.toString(),this.L2,this.H1),this.doc.text("Gender:",this.L3,this.H1),this.doc.text(this.gender_pdf,this.L4,this.H1),this.H1=this.H1+20,this.doc.text("City:",this.L1,this.H1),this.doc.text(this.city_pdf,this.L2,this.H1),this.doc.text("Systolic Blood Pressure:",this.L3,this.H1),this.doc.text(this.sbp_pdf.toString(),this.L4,this.H1),this.H1=this.H1+20,this.doc.text("Diastolic Blood Pressure:",this.L1,this.H1),this.doc.text(this.dbp_pdf.toString(),this.L2,this.H1),this.H1=this.H1+20,this.doc.setDrawColor(0,91,170),this.doc.line(40,this.H1,550,this.H1)}drawmargin(){this.doc.setFontSize(10),this.doc.setFont("normal"),this.doc.setDrawColor(112,112,112),this.doc.rect(5,5,585,830,"S"),this.doc.rect(7,7,581,826,"S")}checkpage(){this.H1>=760&&(this.doc.addPage(),this.drawmargin(),this.H1=40)}calllocalstorage(t){let s,i=JSON.parse(localStorage.getItem("cal1_detail")||"{}");if(i=JSON.parse(localStorage.getItem("cal2_detail")||"{}"),null!=localStorage.getItem("cal2_detail")){this.cal2_detail=i;for(let t in this.cal2_detail)this.cal2_array.push(this.cal2_detail[t].toString());this.cal2_score=JSON.parse(localStorage.getItem("cal2_score")||"{}")}else console.log("Calculator 2 is empty");if(i=JSON.parse(localStorage.getItem("cal3_detail")||"{}"),null!=localStorage.getItem("cal3_detail")){this.cal3_detail=i;for(let t in this.cal3_detail)this.cal3_array.push(this.cal3_detail[t].toString());this.cal3_score=JSON.parse(localStorage.getItem("cal3_score")||"{}")}else console.log("Calculator 3 is empty");if(i=JSON.parse(localStorage.getItem("cal4_detail")||"{}"),null!=localStorage.getItem("cal4_detail")){this.cal4_detail=i;for(let t in this.cal4_detail)this.cal4_array.push(this.cal4_detail[t].toString());this.cal4_score=JSON.parse(localStorage.getItem("cal4_score")||"{}")}else console.log("Calculator 4 is empty");if(i=JSON.parse(localStorage.getItem("cal5_detail")||"{}"),null!=localStorage.getItem("cal5_detail")){this.cal5_detail=i;for(let t in this.cal5_detail)this.cal5_array.push(this.cal5_detail[t].toString());this.cal5_score=JSON.parse(localStorage.getItem("cal5_score")||"{}")}else console.log("Calculator 5 is empty");if(i=JSON.parse(localStorage.getItem("cal6_detail")||"{}"),null!=localStorage.getItem("cal6_detail")){this.cal6_detail=i;for(let t in this.cal6_detail)this.cal6_array.push(this.cal6_detail[t].toString());this.cal6_score=JSON.parse(localStorage.getItem("cal6_score")||"{}")}else console.log("Calculator 6 is empty");if(i=JSON.parse(localStorage.getItem("cal7_detail")||"{}"),null!=localStorage.getItem("cal7_detail")){this.cal7_detail=i;for(let t in this.cal7_detail)s=typeof this.cal7_detail[t],this.cal7_array.push("object"!=s?this.cal7_detail[t].toString():"-");this.cal7_score=JSON.parse(localStorage.getItem("cal7_score")||"{}")}else console.log("Calculator 7 is empty")}download(t){if(this.allcalcs=[],this.cal1_array=[],this.cal2_array=[],this.cal3_array=[],this.cal4_array=[],this.cal5_array=[],this.cal6_array=[],this.cal7_array=[],this.cal1_score={},this.cal2_score={},this.cal3_score={},this.cal4_score={},this.cal5_score={},this.cal6_score={},this.cal7_score={},this.doc_detail=this.docname,this.maintitle(),this.doc=new a.ZP("p","pt","a4"),this.drawmargin(),this.doc.setFontSize(16),this.H1=110,this.doc.text("DR. "+this.doc_detail.toUpperCase(),this.L1,40),this.patientdetails(),"undefined"!=t[9]&&(this.cal1_array=[t[9],t[10],t[11],t[12],t[13],t[14],t[15],t[16],t[17]],this.cal1_score={"HasBled score":t[18],"Bleed per 100 patient- year":t[19]},this.allcalcs.push([["HasBled Score"],["Hypertension","Abnormal Renal","Liver Function","Stroke","Bleeding","Labile INRs","Elderly","Drug","Alcohol"],this.cal1_array,this.cal1_score])),"undefined"!=t[20]&&(this.cal2_array=[t[20],t[21],t[22],t[23],t[24]],this.cal2_score={"Atria Score":t[25],"Risk Category":t[26],"Clinical interpretation":t[27]},this.allcalcs.push([["Atria Score"],["Anemia","Severe renal disease","Age >= 75 years","Any prior hemorrhage diagnosis","Hypertension history"],this.cal2_array,this.cal2_score])),"undefined"!=t[28]&&(this.cal3_array=[t[28],t[29],t[30],t[31],t[32],t[33],t[34]],this.cal3_score={Score:t[35],"Risk category":t[36]},this.allcalcs.push([["VTE Risk Score"],["Previous VTE","Known thrombophilia","Current lower-limb paralysis","Current cancer","Immobilized >=7 days","ICU/CCU stay","Age >60 years"],this.cal3_array,this.cal3_score])),"undefined"!=t[37]&&(this.cal4_array=[t[37],t[38],t[39],t[40],t[41],t[42],t[43],t[44]],this.cal4_score={Score:t[45],"Risk level/Adjusted Stroke Risk":t[46],"Thromboembolic event rate":t[47],"Treatment Recommendations (ESC guidelines 2010)":t[48]},this.allcalcs.push([["CHA2DS2-VASc Score"],["Congestive heart failure","Hypertension","Age >= 75 years","Diabetes mellitus","Stroke/Transient Ischemic Attack/Thromboembolic event","Vascular disease (prior MI, PAD, or aortic plaque)","Age 65 to 74 years","Sex category (ie, female sex)"],this.cal4_array,this.cal4_score])),"undefined"!=t[49]&&(this.cal5_array=[t[49],t[50],t[51],t[52],t[53],t[54],t[55],t[56]],this.cal5_score={"CVD Risk for Women/Men (%)":t[57],"Heart Age/Vascular Age for Women/Men (years)":t[58]},this.allcalcs.push([["Cardiovascular Disease (10-year risk)"],["Age (years)","HDL Chol","Systolic Blood Pressure (mmHg)","Total Chol (mg/dL)","Gender","On BP medication","Cigarette smoker","Diabetes present"],this.cal5_array,this.cal5_score])),"undefined"!=t[59]){this.cal6_array=[t[59],t[60],t[61],t[62]],this.cal6_score={"qCSI Score":t[63],"Risk group\t":t[64],"Risk of critical illness* at 24 hrs":t[65],"Anticoagulation Recommendation (ESC guidelines)2":t[66]};let s=[["Quick COVID-19 Severity Index"],["Repiratory rate, breaths/min","Pulse oximetry","O2 flow rate, L/min","D-dimer"+"2".sup()+" (ng/ml)"],this.cal6_array,this.cal6_score];this.allcalcs.push(s)}"undefined"!=t[67]&&(this.cal7_array=[t[67],t[68],t[69],t[70]],this.cal7_score={"Bolus dose":t[71],"Bolus Volume (mL)":t[72],"Continuous Infusion Dose (mcg/min)":t[73],"Continuous Infusion Rate (mL/hr)":t[74]},this.allcalcs.push([["Argatroban Dosing"],["Body Weight (kg)","Indication","Target ACT (sec)","Hepatic Impairment"],this.cal7_array,this.cal7_score])),console.log("Here");for(var s=0;s<this.allcalcs.length;s++){this.checkpage(),this.H1=this.H1+30,this.checkpage(),this.subtitles(),this.doc.text(this.allcalcs[s][0],this.L1,this.H1),console.log(this.allcalcs[s][0]),console.log(this.allcalcs[s]),this.H1=this.H1+30,this.checkpage(),this.textinside();let t=this.H1+20;for(var i=0;i<this.allcalcs[s][1].length;i++)i%2==0?(this.checkpage(),this.templength==this.H1&&(this.H1=this.H1+20),this.charlength=this.allcalcs[s][1][i].length,this.charlength<32?(this.doc.text(this.allcalcs[s][1][i],this.L1,this.H1),this.doc.text(this.allcalcs[s][2][i],this.L2,this.H1),this.H1=this.H1+20):(this.doc.text(this.allcalcs[s][1][i].substring(0,32)+" -",this.L1,this.H1),this.doc.text(this.allcalcs[s][2][i],this.L2,this.H1),this.templength=this.H1+20,this.doc.text(this.allcalcs[s][1][i].substring(33,this.charlength),this.L1,this.templength),this.H1=this.templength)):(t=this.H1-20,this.charlength=this.allcalcs[s][1][i].length,this.charlength<32?(this.doc.text(this.allcalcs[s][1][i],this.L3,t),this.doc.text(this.allcalcs[s][2][i],this.L4,t),this.H1=t+20):(this.doc.text(this.allcalcs[s][1][i].substring(0,32)+" -",this.L3,t),this.doc.text(this.allcalcs[s][2][i],this.L4,t),t+=20,this.doc.text(this.allcalcs[s][1][i].substring(33,this.charlength),this.L3,t),this.H1=t+20));this.checkpage(),this.doc.setTextColor(60,60,60),this.doc.text("Interpretation:",40,this.H1),this.doc.setTextColor(112,112,112),this.H1=this.H1+20,this.checkpage();let e=0;for(let i in this.allcalcs[s][3])e%2==0?(this.doc.text(i.toString(),this.L1,this.H1),this.allcalcs[s][3][i].length>78?(this.doc.text(this.allcalcs[s][3][i].toString().substring(0,78)+" -",this.L2,this.H1),this.doc.text(this.allcalcs[s][3][i].toString().substring(79,this.allcalcs[s][3][i].length),this.L2,this.H1+10)):this.doc.text(this.allcalcs[s][3][i].toString(),this.L2,this.H1),e+=1):(t=this.H1-20,this.charlength=i.toString().length,this.charlength<32?(this.doc.text(i.toString(),this.L3,this.H1),this.doc.text(this.allcalcs[s][3][i].toString(),this.L4,this.H1),this.H1=this.H1+20,this.checkpage(),e+=1):(this.doc.text(i.toString().substring(0,32)+" -",this.L3,this.H1),this.doc.text(i.toString().substring(32,this.charlength),this.L3,this.H1+20),this.newcharlen=this.allcalcs[s][3][i].toString().length,this.newcharlen<35?this.doc.text(this.allcalcs[s][3][i].toString(),this.L4,this.H1):this.newcharlen>=35&&this.newcharlen<70?(this.doc.text(this.allcalcs[s][3][i].toString().substring(0,35)+" -",this.L4,this.H1),this.H1=this.H1+20,this.templength=this.H1,this.doc.text(this.allcalcs[s][3][i].toString().substring(35,70),this.L4,this.H1)):this.newcharlen>=70&&this.newcharlen<105?(this.doc.text(this.allcalcs[s][3][i].toString().substring(0,35)+" -",this.L4,this.H1),this.H1=this.H1+20,this.templength=this.H1,this.doc.text(this.allcalcs[s][3][i].toString().substring(35,70)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(70,105),this.L4,this.H1)):this.newcharlen>=105&&this.newcharlen<140?(this.doc.text(this.allcalcs[s][3][i].toString().substring(0,35)+" -",this.L4,this.H1),this.H1=this.H1+20,this.templength=this.H1,this.doc.text(this.allcalcs[s][3][i].toString().substring(35,70)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(70,105)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(105,140),this.L4,this.H1)):this.newcharlen>=140&&this.newcharlen<170?(this.doc.text(this.allcalcs[s][3][i].toString().substring(0,35)+" -",this.L4,this.H1),this.H1=this.H1+20,this.templength=this.H1,this.doc.text(this.allcalcs[s][3][i].toString().substring(35,70)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(70,105)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(105,140)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(140,170),this.L4,this.H1)):this.newcharlen>=170&&this.newcharlen<205?(this.doc.text(this.allcalcs[s][3][i].toString().substring(0,35)+" -",this.L4,this.H1),this.H1=this.H1+20,this.templength=this.H1,this.doc.text(this.allcalcs[s][3][i].toString().substring(35,70)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(70,105)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(105,140)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(140,170)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(170,205),this.L4,this.H1)):(this.doc.text(this.allcalcs[s][3][i].toString().substring(0,35)+" -",this.L4,this.H1),this.H1=this.H1+20,this.templength=this.H1,this.doc.text(this.allcalcs[s][3][i].toString().substring(35,70)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(70,105)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(105,140)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(140,170)+" -",this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(170,205),this.L4,this.H1),this.H1=this.H1+20,this.doc.text(this.allcalcs[s][3][i].toString().substring(205,230)+"...",this.L4,this.H1)),this.H1=this.H1+20,this.checkpage(),e+=1));if(this.H1=this.H1+20,"Quick COVID-19 Severity Index"==this.allcalcs[s][0]){this.H1>=620&&(this.doc.addPage(),this.drawmargin(),this.H1=40),console.log(this.cal6_score);let t=new Image;t.src=this.cal6_score["qCSI Score"]<3?"assets/image/first.jpg":this.cal6_score["qCSI Score"]>=3&&this.cal6_score["qCSI Score"]<6?"assets/image/second.jpg":this.cal6_score["qCSI Score"]>=6&&this.cal6_score["qCSI Score"]<9?"assets/image/third.jpg":this.cal6_score["qCSI Score"]>=9?"assets/image/fourth.jpg":"assets/image/g1.jpg",this.doc.addImage(t,"JPG",this.L1,this.H1,200,150),this.H1=this.H1+150}this.H1=this.H1+20,this.doc.setDrawColor(0,91,170),this.doc.line(40,this.H1,550,this.H1)}this.doc.output("dataurlnewwindow"),this.myreport=this.doc}}return t.\u0275fac=function(s){return new(s||t)(l.Y36(c.r))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-pastreports"]],decls:22,vars:3,consts:[[1,"container-fluid","page"],[1,"header"],[2,"text-transform","uppercase"],[2,"margin-top","25px"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf","ngForAs"],[1,"textcolorblue",3,"click"],[1,"textcolorred",3,"click"]],template:function(t,s){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"mat-card"),l.TgZ(2,"mat-card-title",1),l._uU(3,"Doctor name: "),l.TgZ(4,"span",2),l._uU(5),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"mat-card",3),l.TgZ(7,"table",4),l.TgZ(8,"thead"),l.TgZ(9,"tr"),l.TgZ(10,"th",5),l._uU(11,"Patient name"),l.qZA(),l.TgZ(12,"th",5),l._uU(13,"Patient age"),l.qZA(),l.TgZ(14,"th",5),l._uU(15,"Created date"),l.qZA(),l.TgZ(16,"th",5),l._uU(17,"View report"),l.qZA(),l.TgZ(18,"th",5),l._uU(19,"Delete report"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"tbody"),l.YNc(21,r,11,3,"tr",6),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(5),l.hij("DR. ",s.docname,""),l.xp6(16),l.Q6J("ngForOf",s.mydata)("ngForAs",s.index))},directives:[o.a8,o.n5,e.sg],styles:[".mat-card[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){box-shadow:0 0 20px 0 #0003,0 5px 5px 0 #0000003d}.page[_ngcontent-%COMP%]{padding-top:1rem;background:#fff}.header[_ngcontent-%COMP%]{font-family:poppins;font-size:20px}.header[_ngcontent-%COMP%], .textcolorblue[_ngcontent-%COMP%]{color:#005baa;font-weight:600}.textcolorblue[_ngcontent-%COMP%], .textcolorred[_ngcontent-%COMP%]{cursor:pointer}.textcolorred[_ngcontent-%COMP%]{color:#ee1e24;font-weight:600}"]}),t})()}];let d=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[h.Bz.forChild(n)],h.Bz]}),t})(),g=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[e.ez,d]]}),t})()}}]);